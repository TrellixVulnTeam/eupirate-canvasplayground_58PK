{"ast":null,"code":"var __spreadArrays = this && this.__spreadArrays || function () {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n\n  for (var r = Array(s), k = 0, i = 0; i < il; i++) for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++) r[k] = a[j];\n\n  return r;\n};\n\nfunction getLast(items) {\n  if (items.length) {\n    return items[items.length - 1];\n  }\n\n  return null;\n}\n\nexport function getValue(index, length) {\n  var _a = stack.zIndex,\n      min = _a.min,\n      max = _a.max;\n\n  if (length <= max - min) {\n    return index + min;\n  }\n\n  return Math.max(min, max - (length - index) + 1);\n}\n\nfunction find(items, predicate, thisArg) {\n  var length = items.length;\n\n  for (var i = 0; i < length; i++) {\n    if (predicate(items[i], i, items)) {\n      return items[i];\n    }\n  }\n\n  return;\n}\n\nfunction setZIndexOfElements(elements) {\n  var length = elements.length;\n  elements.forEach(function (element, index) {\n    element.style.zIndex = String(getValue(index, length));\n  });\n}\n\nfunction getOwnerPopup(element, items) {\n  var parentEl = element;\n\n  do {\n    var owner = find(items, function (el) {\n      return el.element === parentEl;\n    });\n\n    if (owner) {\n      return owner.element;\n    }\n  } while (parentEl = parentEl.parentElement);\n\n  return;\n}\n\nfunction getChildPopups(item, items) {\n  var owners = items.filter(function (i) {\n    return i.owner;\n  }).map(function (i) {\n    return {\n      element: i.element,\n      parent: getOwnerPopup(i.owner, items)\n    };\n  }).filter(function (i) {\n    return i.parent === item.element;\n  });\n  return owners;\n}\n\nfunction get(obj, path) {\n  var parts = path.split('.');\n  var first = parts.splice(0, 1)[0];\n\n  if (parts.length && obj[first]) {\n    return get(obj[first], parts.join('.'));\n  } else {\n    return obj[first];\n  }\n}\n\nfunction set(obj, path, value) {\n  var parts = path.split('.');\n  var first = parts.splice(0, 1)[0];\n\n  if (parts.length) {\n    if (obj[first] === undefined) {\n      obj[first] = {};\n    }\n\n    set(obj[first], parts.join('.'), value);\n  } else {\n    obj[first] = value;\n  }\n\n  return value;\n}\n\nif (typeof window !== 'undefined') {\n  window.workday = window.workday || {};\n}\n\nvar getFromWindow = function (path) {\n  if (typeof window !== 'undefined') {\n    return get(window, path);\n  }\n\n  return undefined;\n};\n\nvar setToWindow = function (path, value) {\n  if (typeof window !== 'undefined') {\n    set(window, path, value);\n  }\n};\n\nvar stack = getFromWindow('workday.__popupStack') || {\n  description: 'Global popup stack from @workday/canvas-kit-popup-stack',\n  items: [],\n  zIndex: {\n    min: 30,\n    max: 50,\n    getValue: getValue\n  },\n  _adapter: {}\n};\nsetToWindow('workday.__popupStack', stack);\nexport var PopupStack = {\n  createContainer: function () {\n    var _a;\n\n    if ((_a = stack._adapter) === null || _a === void 0 ? void 0 : _a.createContainer) {\n      return stack._adapter.createContainer();\n    }\n\n    var div = document.createElement('div');\n    div.style.position = 'relative';\n    return div;\n  },\n  add: function (item) {\n    var _a;\n\n    if ((_a = stack._adapter) === null || _a === void 0 ? void 0 : _a.add) {\n      stack._adapter.add(item);\n\n      return;\n    }\n\n    stack.items.push(item);\n    document.body.appendChild(item.element);\n    setZIndexOfElements(PopupStack.getElements());\n  },\n  remove: function (element) {\n    var _a;\n\n    if ((_a = stack._adapter) === null || _a === void 0 ? void 0 : _a.remove) {\n      stack._adapter.remove(element);\n\n      return;\n    }\n\n    stack.items = stack.items.filter(function (item) {\n      return item.element !== element;\n    });\n    document.body.removeChild(element);\n    setZIndexOfElements(PopupStack.getElements());\n  },\n  isTopmost: function (element) {\n    var _a;\n\n    if ((_a = stack._adapter) === null || _a === void 0 ? void 0 : _a.isTopmost) {\n      return stack._adapter.isTopmost(element);\n    }\n\n    var last = getLast(stack.items);\n\n    if (last) {\n      return last.element === element;\n    }\n\n    return false;\n  },\n  getElements: function () {\n    var _a;\n\n    if ((_a = stack._adapter) === null || _a === void 0 ? void 0 : _a.getElements) {\n      return stack._adapter.getElements();\n    }\n\n    return stack.items.map(function (i) {\n      return i.element;\n    });\n  },\n  bringToTop: function (element) {\n    var _a;\n\n    if ((_a = stack._adapter) === null || _a === void 0 ? void 0 : _a.bringToTop) {\n      stack._adapter.bringToTop(element);\n\n      return;\n    }\n\n    var item = find(stack.items, function (i) {\n      return i.element === element;\n    });\n\n    if (item) {\n      stack.items = __spreadArrays(stack.items.filter(function (i) {\n        return i !== item;\n      }), [item]);\n      getChildPopups(item, stack.items).forEach(function (popup) {\n        PopupStack.bringToTop(popup.element);\n      });\n      setZIndexOfElements(PopupStack.getElements());\n    } else {\n      var e = new Error();\n      console.warn('Could not find item', e.stack);\n    }\n  },\n  contains: function (element, eventTarget) {\n    var _a, _b;\n\n    if ((_a = stack._adapter) === null || _a === void 0 ? void 0 : _a.contains) {\n      return stack._adapter.contains(element, eventTarget);\n    }\n\n    var item = find(stack.items, function (i) {\n      return i.element === element;\n    });\n    var containsOwnerOfAnotherPopupTargeted = stack.items.some(function (currentItem) {\n      var _a;\n\n      return (item === null || item === void 0 ? void 0 : item.element.contains(currentItem.owner || null)) && (eventTarget === currentItem.owner || ((_a = currentItem.owner) === null || _a === void 0 ? void 0 : _a.contains(eventTarget)) || currentItem.element.contains(eventTarget));\n    });\n\n    if (item) {\n      return containsOwnerOfAnotherPopupTargeted || eventTarget === item.owner || ((_b = item.owner) === null || _b === void 0 ? void 0 : _b.contains(eventTarget)) || element.contains(eventTarget);\n    }\n\n    return false;\n  }\n};\nexport function resetStack() {\n  stack.items = [];\n}\nexport var createAdapter = function (adapter) {\n  stack._adapter = adapter;\n};","map":{"version":3,"sources":["/Users/janet.xuishi/node_modules/@workday/canvas-kit-popup-stack/dist/es6/lib/PopupStack.js"],"names":["__spreadArrays","s","i","il","arguments","length","r","Array","k","a","j","jl","getLast","items","getValue","index","_a","stack","zIndex","min","max","Math","find","predicate","thisArg","setZIndexOfElements","elements","forEach","element","style","String","getOwnerPopup","parentEl","owner","el","parentElement","getChildPopups","item","owners","filter","map","parent","get","obj","path","parts","split","first","splice","join","set","value","undefined","window","workday","getFromWindow","setToWindow","description","_adapter","PopupStack","createContainer","div","document","createElement","position","add","push","body","appendChild","getElements","remove","removeChild","isTopmost","last","bringToTop","popup","e","Error","console","warn","contains","eventTarget","_b","containsOwnerOfAnotherPopupTargeted","some","currentItem","resetStack","createAdapter","adapter"],"mappings":"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","sourcesContent":["var __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nfunction getLast(items) {\n    if (items.length) {\n        return items[items.length - 1];\n    }\n    return null;\n}\nexport function getValue(index, length) {\n    var _a = stack.zIndex, min = _a.min, max = _a.max;\n    if (length <= max - min) {\n        return index + min;\n    }\n    return Math.max(min, max - (length - index) + 1);\n}\nfunction find(items, predicate, thisArg) {\n    var length = items.length;\n    for (var i = 0; i < length; i++) {\n        if (predicate(items[i], i, items)) {\n            return items[i];\n        }\n    }\n    return;\n}\nfunction setZIndexOfElements(elements) {\n    var length = elements.length;\n    elements.forEach(function (element, index) {\n        element.style.zIndex = String(getValue(index, length));\n    });\n}\nfunction getOwnerPopup(element, items) {\n    var parentEl = element;\n    do {\n        var owner = find(items, function (el) { return el.element === parentEl; });\n        if (owner) {\n            return owner.element;\n        }\n    } while ((parentEl = parentEl.parentElement));\n    return;\n}\nfunction getChildPopups(item, items) {\n    var owners = items\n        .filter(function (i) { return i.owner; })\n        .map(function (i) { return ({ element: i.element, parent: getOwnerPopup(i.owner, items) }); })\n        .filter(function (i) { return i.parent === item.element; });\n    return owners;\n}\nfunction get(obj, path) {\n    var parts = path.split('.');\n    var first = parts.splice(0, 1)[0];\n    if (parts.length && obj[first]) {\n        return get(obj[first], parts.join('.'));\n    }\n    else {\n        return obj[first];\n    }\n}\nfunction set(obj, path, value) {\n    var parts = path.split('.');\n    var first = parts.splice(0, 1)[0];\n    if (parts.length) {\n        if (obj[first] === undefined) {\n            obj[first] = {};\n        }\n        set(obj[first], parts.join('.'), value);\n    }\n    else {\n        obj[first] = value;\n    }\n    return value;\n}\nif (typeof window !== 'undefined') {\n    window.workday = window.workday || {};\n}\nvar getFromWindow = function (path) {\n    if (typeof window !== 'undefined') {\n        return get(window, path);\n    }\n    return undefined;\n};\nvar setToWindow = function (path, value) {\n    if (typeof window !== 'undefined') {\n        set(window, path, value);\n    }\n};\nvar stack = getFromWindow('workday.__popupStack') || {\n    description: 'Global popup stack from @workday/canvas-kit-popup-stack',\n    items: [],\n    zIndex: { min: 30, max: 50, getValue: getValue },\n    _adapter: {},\n};\nsetToWindow('workday.__popupStack', stack);\nexport var PopupStack = {\n    createContainer: function () {\n        var _a;\n        if ((_a = stack._adapter) === null || _a === void 0 ? void 0 : _a.createContainer) {\n            return stack._adapter.createContainer();\n        }\n        var div = document.createElement('div');\n        div.style.position = 'relative';\n        return div;\n    },\n    add: function (item) {\n        var _a;\n        if ((_a = stack._adapter) === null || _a === void 0 ? void 0 : _a.add) {\n            stack._adapter.add(item);\n            return;\n        }\n        stack.items.push(item);\n        document.body.appendChild(item.element);\n        setZIndexOfElements(PopupStack.getElements());\n    },\n    remove: function (element) {\n        var _a;\n        if ((_a = stack._adapter) === null || _a === void 0 ? void 0 : _a.remove) {\n            stack._adapter.remove(element);\n            return;\n        }\n        stack.items = stack.items.filter(function (item) { return item.element !== element; });\n        document.body.removeChild(element);\n        setZIndexOfElements(PopupStack.getElements());\n    },\n    isTopmost: function (element) {\n        var _a;\n        if ((_a = stack._adapter) === null || _a === void 0 ? void 0 : _a.isTopmost) {\n            return stack._adapter.isTopmost(element);\n        }\n        var last = getLast(stack.items);\n        if (last) {\n            return last.element === element;\n        }\n        return false;\n    },\n    getElements: function () {\n        var _a;\n        if ((_a = stack._adapter) === null || _a === void 0 ? void 0 : _a.getElements) {\n            return stack._adapter.getElements();\n        }\n        return stack.items.map(function (i) { return i.element; });\n    },\n    bringToTop: function (element) {\n        var _a;\n        if ((_a = stack._adapter) === null || _a === void 0 ? void 0 : _a.bringToTop) {\n            stack._adapter.bringToTop(element);\n            return;\n        }\n        var item = find(stack.items, function (i) { return i.element === element; });\n        if (item) {\n            stack.items = __spreadArrays(stack.items.filter(function (i) { return i !== item; }), [item]);\n            getChildPopups(item, stack.items).forEach(function (popup) {\n                PopupStack.bringToTop(popup.element);\n            });\n            setZIndexOfElements(PopupStack.getElements());\n        }\n        else {\n            var e = new Error();\n            console.warn('Could not find item', e.stack);\n        }\n    },\n    contains: function (element, eventTarget) {\n        var _a, _b;\n        if ((_a = stack._adapter) === null || _a === void 0 ? void 0 : _a.contains) {\n            return stack._adapter.contains(element, eventTarget);\n        }\n        var item = find(stack.items, function (i) { return i.element === element; });\n        var containsOwnerOfAnotherPopupTargeted = stack.items.some(function (currentItem) {\n            var _a;\n            return ((item === null || item === void 0 ? void 0 : item.element.contains(currentItem.owner || null)) &&\n                (eventTarget === currentItem.owner || ((_a = currentItem.owner) === null || _a === void 0 ? void 0 : _a.contains(eventTarget)) ||\n                    currentItem.element.contains(eventTarget)));\n        });\n        if (item) {\n            return (containsOwnerOfAnotherPopupTargeted ||\n                eventTarget === item.owner || ((_b = item.owner) === null || _b === void 0 ? void 0 : _b.contains(eventTarget)) ||\n                element.contains(eventTarget));\n        }\n        return false;\n    },\n};\nexport function resetStack() {\n    stack.items = [];\n}\nexport var createAdapter = function (adapter) {\n    stack._adapter = adapter;\n};\n"]},"metadata":{},"sourceType":"module"}