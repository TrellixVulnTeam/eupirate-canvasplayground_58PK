{"ast":null,"code":"import React from 'react';\nimport { mergeProps, useIsRTL, useMount } from '@workday/canvas-kit-react/common';\nimport { getItem, getNext } from './useCursorModel';\nexport var orientationKeyMap = {\n  horizontal: {\n    ArrowLeft: 'previous',\n    Left: 'previous',\n    ArrowRight: 'next',\n    Right: 'next',\n    Home: 'first',\n    End: 'last'\n  },\n  vertical: {\n    ArrowUp: 'previous',\n    Up: 'previous',\n    ArrowDown: 'next',\n    Down: 'next',\n    Home: 'first',\n    End: 'last'\n  }\n};\nvar rightToLeftMap = {\n  ArrowLeft: 'ArrowRight',\n  Left: 'Right',\n  ArrowRight: 'ArrowLeft',\n  Right: 'Left',\n  Home: 'End',\n  End: 'Home'\n};\nexport var useRovingFocusList = function (model, elemProps) {\n  if (elemProps === void 0) {\n    elemProps = {};\n  }\n\n  var state = model.state,\n      events = model.events;\n  var stateRef = React.useRef(state);\n  stateRef.current = state;\n  var keyDownRef = React.useRef(false);\n  var isRTL = useIsRTL();\n  React.useEffect(function () {\n    var _a;\n\n    if (keyDownRef.current) {\n      var item = getItem(state.cursorId, state.items);\n      (_a = item.ref.current) === null || _a === void 0 ? void 0 : _a.focus();\n      keyDownRef.current = false;\n    }\n  }, [state.cursorId, state.items]);\n  return mergeProps({\n    onKeyDown: function (event) {\n      Object.keys(orientationKeyMap[state.orientation]).forEach(function (key) {\n        var _a;\n\n        if (isRTL ? event.key === rightToLeftMap[key] : event.key === key) {\n          var event_1 = orientationKeyMap[state.orientation][key];\n          keyDownRef.current = true;\n          (_a = events[event_1]) === null || _a === void 0 ? void 0 : _a.call(events);\n        }\n      });\n    }\n  }, elemProps);\n};\nexport var useRovingFocusItem = function (_a, elemProps) {\n  var state = _a.state;\n\n  if (elemProps === void 0) {\n    elemProps = {};\n  }\n\n  var focusRef = React.useRef(false);\n  var stateRef = React.useRef(state);\n  stateRef.current = state;\n  useMount(function () {\n    return function () {\n      if (focusRef.current && stateRef.current.items.length) {\n        var item_1 = getNext(stateRef.current.cursorId, stateRef.current.items);\n        requestAnimationFrame(function () {\n          var _a;\n\n          (_a = item_1.ref.current) === null || _a === void 0 ? void 0 : _a.focus();\n        });\n      }\n    };\n  });\n  return mergeProps({\n    onFocus: function (event) {\n      focusRef.current = true;\n    },\n    onBlur: function (event) {\n      focusRef.current = false;\n    }\n  }, elemProps);\n};","map":{"version":3,"sources":["/Users/janet.xuishi/node_modules/@workday/canvas-kit-react/dist/es6/tabs/lib/cursor/hooks.js"],"names":["React","mergeProps","useIsRTL","useMount","getItem","getNext","orientationKeyMap","horizontal","ArrowLeft","Left","ArrowRight","Right","Home","End","vertical","ArrowUp","Up","ArrowDown","Down","rightToLeftMap","useRovingFocusList","model","elemProps","state","events","stateRef","useRef","current","keyDownRef","isRTL","useEffect","_a","item","cursorId","items","ref","focus","onKeyDown","event","Object","keys","orientation","forEach","key","event_1","call","useRovingFocusItem","focusRef","length","item_1","requestAnimationFrame","onFocus","onBlur"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { mergeProps, useIsRTL, useMount } from '@workday/canvas-kit-react/common';\nimport { getItem, getNext } from './useCursorModel';\nexport var orientationKeyMap = {\n    horizontal: {\n        ArrowLeft: 'previous',\n        Left: 'previous',\n        ArrowRight: 'next',\n        Right: 'next',\n        Home: 'first',\n        End: 'last',\n    },\n    vertical: {\n        ArrowUp: 'previous',\n        Up: 'previous',\n        ArrowDown: 'next',\n        Down: 'next',\n        Home: 'first',\n        End: 'last',\n    },\n};\nvar rightToLeftMap = {\n    ArrowLeft: 'ArrowRight',\n    Left: 'Right',\n    ArrowRight: 'ArrowLeft',\n    Right: 'Left',\n    Home: 'End',\n    End: 'Home',\n};\nexport var useRovingFocusList = function (model, elemProps) {\n    if (elemProps === void 0) { elemProps = {}; }\n    var state = model.state, events = model.events;\n    var stateRef = React.useRef(state);\n    stateRef.current = state;\n    var keyDownRef = React.useRef(false);\n    var isRTL = useIsRTL();\n    React.useEffect(function () {\n        var _a;\n        if (keyDownRef.current) {\n            var item = getItem(state.cursorId, state.items);\n            (_a = item.ref.current) === null || _a === void 0 ? void 0 : _a.focus();\n            keyDownRef.current = false;\n        }\n    }, [state.cursorId, state.items]);\n    return mergeProps({\n        onKeyDown: function (event) {\n            Object.keys(orientationKeyMap[state.orientation]).forEach(function (key) {\n                var _a;\n                if (isRTL ? event.key === rightToLeftMap[key] : event.key === key) {\n                    var event_1 = orientationKeyMap[state.orientation][key];\n                    keyDownRef.current = true;\n                    (_a = events[event_1]) === null || _a === void 0 ? void 0 : _a.call(events);\n                }\n            });\n        },\n    }, elemProps);\n};\nexport var useRovingFocusItem = function (_a, elemProps) {\n    var state = _a.state;\n    if (elemProps === void 0) { elemProps = {}; }\n    var focusRef = React.useRef(false);\n    var stateRef = React.useRef(state);\n    stateRef.current = state;\n    useMount(function () {\n        return function () {\n            if (focusRef.current && stateRef.current.items.length) {\n                var item_1 = getNext(stateRef.current.cursorId, stateRef.current.items);\n                requestAnimationFrame(function () {\n                    var _a;\n                    (_a = item_1.ref.current) === null || _a === void 0 ? void 0 : _a.focus();\n                });\n            }\n        };\n    });\n    return mergeProps({\n        onFocus: function (event) {\n            focusRef.current = true;\n        },\n        onBlur: function (event) {\n            focusRef.current = false;\n        },\n    }, elemProps);\n};\n"]},"metadata":{},"sourceType":"module"}