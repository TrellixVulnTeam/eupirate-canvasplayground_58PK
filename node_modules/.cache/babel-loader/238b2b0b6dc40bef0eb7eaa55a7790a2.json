{"ast":null,"code":"import React from 'react';\nimport { changeFocus, assert, getFirstFocusableElement } from '@workday/canvas-kit-react/common';\nexport var useInitialFocus = function (model, elemProps) {\n  if (elemProps === void 0) {\n    elemProps = {};\n  }\n\n  var visible = model.state.visibility !== 'hidden';\n  React.useEffect(function () {\n    var _a;\n\n    if (visible && model.state.stackRef.current) {\n      var element = ((_a = model.state.initialFocusRef) === null || _a === void 0 ? void 0 : _a.current) || getFirstFocusableElement(model.state.stackRef.current);\n      assert(element, 'No focusable element was found. Please ensure popup has at least one focusable element');\n      changeFocus(element);\n    }\n  }, [model.state.initialFocusRef, model.state.stackRef, visible]);\n  return elemProps;\n};","map":{"version":3,"sources":["/Users/janet.xuishi/node_modules/@workday/canvas-kit-react/dist/es6/popup/lib/hooks/useInitialFocus.js"],"names":["React","changeFocus","assert","getFirstFocusableElement","useInitialFocus","model","elemProps","visible","state","visibility","useEffect","_a","stackRef","current","element","initialFocusRef"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,WAAT,EAAsBC,MAAtB,EAA8BC,wBAA9B,QAA8D,kCAA9D;AACA,OAAO,IAAIC,eAAe,GAAG,UAAUC,KAAV,EAAiBC,SAAjB,EAA4B;AACrD,MAAIA,SAAS,KAAK,KAAK,CAAvB,EAA0B;AAAEA,IAAAA,SAAS,GAAG,EAAZ;AAAiB;;AAC7C,MAAIC,OAAO,GAAGF,KAAK,CAACG,KAAN,CAAYC,UAAZ,KAA2B,QAAzC;AACAT,EAAAA,KAAK,CAACU,SAAN,CAAgB,YAAY;AACxB,QAAIC,EAAJ;;AACA,QAAIJ,OAAO,IAAIF,KAAK,CAACG,KAAN,CAAYI,QAAZ,CAAqBC,OAApC,EAA6C;AACzC,UAAIC,OAAO,GAAG,CAAC,CAACH,EAAE,GAAGN,KAAK,CAACG,KAAN,CAAYO,eAAlB,MAAuC,IAAvC,IAA+CJ,EAAE,KAAK,KAAK,CAA3D,GAA+D,KAAK,CAApE,GAAwEA,EAAE,CAACE,OAA5E,KACVV,wBAAwB,CAACE,KAAK,CAACG,KAAN,CAAYI,QAAZ,CAAqBC,OAAtB,CAD5B;AAEAX,MAAAA,MAAM,CAACY,OAAD,EAAU,wFAAV,CAAN;AACAb,MAAAA,WAAW,CAACa,OAAD,CAAX;AACH;AACJ,GARD,EAQG,CAACT,KAAK,CAACG,KAAN,CAAYO,eAAb,EAA8BV,KAAK,CAACG,KAAN,CAAYI,QAA1C,EAAoDL,OAApD,CARH;AASA,SAAOD,SAAP;AACH,CAbM","sourcesContent":["import React from 'react';\nimport { changeFocus, assert, getFirstFocusableElement } from '@workday/canvas-kit-react/common';\nexport var useInitialFocus = function (model, elemProps) {\n    if (elemProps === void 0) { elemProps = {}; }\n    var visible = model.state.visibility !== 'hidden';\n    React.useEffect(function () {\n        var _a;\n        if (visible && model.state.stackRef.current) {\n            var element = ((_a = model.state.initialFocusRef) === null || _a === void 0 ? void 0 : _a.current) ||\n                getFirstFocusableElement(model.state.stackRef.current);\n            assert(element, 'No focusable element was found. Please ensure popup has at least one focusable element');\n            changeFocus(element);\n        }\n    }, [model.state.initialFocusRef, model.state.stackRef, visible]);\n    return elemProps;\n};\n"]},"metadata":{},"sourceType":"module"}