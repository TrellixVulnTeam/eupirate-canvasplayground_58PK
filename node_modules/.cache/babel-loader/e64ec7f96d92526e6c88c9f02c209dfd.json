{"ast":null,"code":"var __spreadArrays = this && this.__spreadArrays || function () {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n\n  for (var r = Array(s), k = 0, i = 0; i < il; i++) for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++) r[k] = a[j];\n\n  return r;\n};\n\nimport React from 'react';\nimport { createEventMap, useEventMap, useUniqueId } from '@workday/canvas-kit-react/common';\nexport var listEventMap = createEventMap()({\n  guards: {\n    shouldRegisterItem: 'registerItem',\n    shouldUnregisterItem: 'unregisterItem',\n    shouldUpdateItemPosition: 'updateItemPosition'\n  },\n  callbacks: {\n    onRegisterItem: 'registerItem',\n    onUnregisterItem: 'unregisterItem',\n    onUpdateItemPosition: 'updateItemPosition'\n  }\n});\nexport var useListModel = function (config) {\n  if (config === void 0) {\n    config = {};\n  }\n\n  var id = useUniqueId(config.id);\n  var indexRef = React.useRef(0);\n\n  var _a = React.useState([]),\n      items = _a[0],\n      setItems = _a[1];\n\n  var state = {\n    id: id,\n    items: items,\n    indexRef: indexRef\n  };\n  var events = useEventMap(listEventMap, state, config, {\n    registerItem: function (_a) {\n      var item = _a.item,\n          index = _a.index;\n      indexRef.current++;\n      setItems(function (items) {\n        if (index !== undefined) {\n          var copy = __spreadArrays(items);\n\n          copy.splice(index, 0, item);\n          return copy;\n        }\n\n        return items.concat(item);\n      });\n    },\n    unregisterItem: function (_a) {\n      var id = _a.id;\n      setItems(function (items) {\n        if (items.find(function (item) {\n          return item.id === id;\n        })) {\n          return items.filter(function (item) {\n            return item.id !== id;\n          });\n        } else {\n          return items;\n        }\n      });\n    },\n    updateItemPosition: function (_a) {\n      var id = _a.id,\n          index = _a.index;\n      setItems(function (items) {\n        var copy = items.filter(function (item) {\n          return item.id !== id;\n        });\n        copy.splice(index, 0, items.find(function (item) {\n          return item.id === id;\n        }));\n        return copy;\n      });\n    }\n  });\n  return {\n    state: state,\n    events: events\n  };\n};","map":{"version":3,"sources":["/Users/janet.xuishi/node_modules/@workday/canvas-kit-react/dist/es6/tabs/lib/list/useListModel.js"],"names":["__spreadArrays","s","i","il","arguments","length","r","Array","k","a","j","jl","React","createEventMap","useEventMap","useUniqueId","listEventMap","guards","shouldRegisterItem","shouldUnregisterItem","shouldUpdateItemPosition","callbacks","onRegisterItem","onUnregisterItem","onUpdateItemPosition","useListModel","config","id","indexRef","useRef","_a","useState","items","setItems","state","events","registerItem","item","index","current","undefined","copy","splice","concat","unregisterItem","find","filter","updateItemPosition"],"mappings":"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","sourcesContent":["var __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nimport React from 'react';\nimport { createEventMap, useEventMap, useUniqueId, } from '@workday/canvas-kit-react/common';\nexport var listEventMap = createEventMap()({\n    guards: {\n        shouldRegisterItem: 'registerItem',\n        shouldUnregisterItem: 'unregisterItem',\n        shouldUpdateItemPosition: 'updateItemPosition',\n    },\n    callbacks: {\n        onRegisterItem: 'registerItem',\n        onUnregisterItem: 'unregisterItem',\n        onUpdateItemPosition: 'updateItemPosition',\n    },\n});\nexport var useListModel = function (config) {\n    if (config === void 0) { config = {}; }\n    var id = useUniqueId(config.id);\n    var indexRef = React.useRef(0);\n    var _a = React.useState([]), items = _a[0], setItems = _a[1];\n    var state = { id: id, items: items, indexRef: indexRef };\n    var events = useEventMap(listEventMap, state, config, {\n        registerItem: function (_a) {\n            var item = _a.item, index = _a.index;\n            indexRef.current++;\n            setItems(function (items) {\n                if (index !== undefined) {\n                    var copy = __spreadArrays(items);\n                    copy.splice(index, 0, item);\n                    return copy;\n                }\n                return items.concat(item);\n            });\n        },\n        unregisterItem: function (_a) {\n            var id = _a.id;\n            setItems(function (items) {\n                if (items.find(function (item) { return item.id === id; })) {\n                    return items.filter(function (item) { return item.id !== id; });\n                }\n                else {\n                    return items;\n                }\n            });\n        },\n        updateItemPosition: function (_a) {\n            var id = _a.id, index = _a.index;\n            setItems(function (items) {\n                var copy = items.filter(function (item) { return item.id !== id; });\n                copy.splice(index, 0, items.find(function (item) { return item.id === id; }));\n                return copy;\n            });\n        },\n    });\n    return { state: state, events: events };\n};\n"]},"metadata":{},"sourceType":"module"}