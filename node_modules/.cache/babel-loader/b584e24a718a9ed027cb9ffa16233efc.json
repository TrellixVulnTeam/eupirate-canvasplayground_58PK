{"ast":null,"code":"import React from 'react';\nexport var createEventMap = function () {\n  return function (config) {\n    return config;\n  };\n};\n\nvar keys = function (input) {\n  return Object.keys(input);\n};\n\nexport var useEventMap = function (eventMap, state, config, events) {\n  var eventMapRef = React.useRef(eventMap);\n  var stateRef = React.useRef(state);\n  var configRef = React.useRef(config);\n  var eventsRef = React.useRef(events);\n  eventMapRef.current = eventMap;\n  stateRef.current = state;\n  configRef.current = config;\n  eventsRef.current = events;\n  return React.useMemo(function () {\n    return keys(eventsRef.current).reduce(function (result, key) {\n      result[key] = function (data) {\n        var _a, _b;\n\n        if (!eventsRef.current[key]._wrapped) {\n          var guardFn = keys(eventMapRef.current.guards || {}).find(function (k) {\n            return (eventMapRef.current.guards || {})[k] === key;\n          });\n\n          if (guardFn && ((_a = configRef.current) === null || _a === void 0 ? void 0 : _a[guardFn]) && !configRef.current[guardFn]({\n            data: data,\n            state: stateRef.current\n          })) {\n            return;\n          }\n        }\n\n        eventsRef.current[key](data);\n\n        if (!eventsRef.current[key]._wrapped) {\n          var callbackFn = keys(eventMapRef.current.callbacks || {}).find(function (k) {\n            return (eventMapRef.current.callbacks || {})[k] === key;\n          });\n\n          if (callbackFn && ((_b = configRef.current) === null || _b === void 0 ? void 0 : _b[callbackFn])) {\n            configRef.current[callbackFn]({\n              data: data,\n              prevState: stateRef.current\n            });\n          }\n        }\n      };\n\n      result[key]._wrapped = true;\n      return result;\n    }, {});\n  }, []);\n};\nexport var createEvents = function (events) {\n  return function (config) {\n    return {\n      events: events,\n      eventMap: config\n    };\n  };\n};","map":{"version":3,"sources":["/Users/janet.xuishi/node_modules/@workday/canvas-kit-react/dist/es6/common/lib/utils/models.js"],"names":["React","createEventMap","config","keys","input","Object","useEventMap","eventMap","state","events","eventMapRef","useRef","stateRef","configRef","eventsRef","current","useMemo","reduce","result","key","data","_a","_b","_wrapped","guardFn","guards","find","k","callbackFn","callbacks","prevState","createEvents"],"mappings":"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","sourcesContent":["import React from 'react';\nexport var createEventMap = function () { return function (config) {\n    return config;\n}; };\nvar keys = function (input) { return Object.keys(input); };\nexport var useEventMap = function (eventMap, state, config, events) {\n    var eventMapRef = React.useRef(eventMap);\n    var stateRef = React.useRef(state);\n    var configRef = React.useRef(config);\n    var eventsRef = React.useRef(events);\n    eventMapRef.current = eventMap;\n    stateRef.current = state;\n    configRef.current = config;\n    eventsRef.current = events;\n    return React.useMemo(function () {\n        return keys(eventsRef.current).reduce(function (result, key) {\n            result[key] = (function (data) {\n                var _a, _b;\n                if (!eventsRef.current[key]._wrapped) {\n                    var guardFn = keys(eventMapRef.current.guards || {}).find(function (k) {\n                        return (eventMapRef.current.guards || {})[k] === key;\n                    });\n                    if (guardFn && ((_a = configRef.current) === null || _a === void 0 ? void 0 : _a[guardFn]) &&\n                        !configRef.current[guardFn]({ data: data, state: stateRef.current })) {\n                        return;\n                    }\n                }\n                eventsRef.current[key](data);\n                if (!eventsRef.current[key]._wrapped) {\n                    var callbackFn = keys(eventMapRef.current.callbacks || {}).find(function (k) {\n                        return (eventMapRef.current.callbacks || {})[k] === key;\n                    });\n                    if (callbackFn && ((_b = configRef.current) === null || _b === void 0 ? void 0 : _b[callbackFn])) {\n                        configRef.current[callbackFn]({ data: data, prevState: stateRef.current });\n                    }\n                }\n            });\n            result[key]._wrapped = true;\n            return result;\n        }, {});\n    }, []);\n};\nexport var createEvents = function (events) { return function (config) {\n    return { events: events, eventMap: config };\n}; };\n"]},"metadata":{},"sourceType":"module"}