{"ast":null,"code":"var __spreadArrays = this && this.__spreadArrays || function () {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n\n  for (var r = Array(s), k = 0, i = 0; i < il; i++) for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++) r[k] = a[j];\n\n  return r;\n};\n\nimport React from 'react';\nexport var useAssistiveHideSiblings = function (model, elemProps) {\n  if (elemProps === void 0) {\n    elemProps = {};\n  }\n\n  var visible = model.state.visibility !== 'hidden';\n  React.useEffect(function () {\n    var _a, _b;\n\n    if (!visible) {\n      return;\n    }\n\n    var siblings = __spreadArrays((_b = (_a = model.state.stackRef.current) === null || _a === void 0 ? void 0 : _a.parentElement) === null || _b === void 0 ? void 0 : _b.children).filter(function (el) {\n      return el !== model.state.stackRef.current;\n    });\n\n    var prevAriaHidden = siblings.map(function (el) {\n      return el.getAttribute('aria-hidden');\n    });\n    siblings.forEach(function (el) {\n      el.setAttribute('aria-hidden', 'true');\n    });\n    return function () {\n      siblings.forEach(function (el, index) {\n        var prev = prevAriaHidden[index];\n\n        if (prev) {\n          el.setAttribute('aria-hidden', prev);\n        } else {\n          el.removeAttribute('aria-hidden');\n        }\n      });\n    };\n  }, [model.state.stackRef, visible]);\n  return elemProps;\n};","map":{"version":3,"sources":["/Users/janet.xuishi/node_modules/@workday/canvas-kit-react/dist/es6/popup/lib/hooks/useAssistiveHideSiblings.js"],"names":["__spreadArrays","s","i","il","arguments","length","r","Array","k","a","j","jl","React","useAssistiveHideSiblings","model","elemProps","visible","state","visibility","useEffect","_a","_b","siblings","stackRef","current","parentElement","children","filter","el","prevAriaHidden","map","getAttribute","forEach","setAttribute","index","prev","removeAttribute"],"mappings":"AAAA,IAAIA,cAAc,GAAI,QAAQ,KAAKA,cAAd,IAAiC,YAAY;AAC9D,OAAK,IAAIC,CAAC,GAAG,CAAR,EAAWC,CAAC,GAAG,CAAf,EAAkBC,EAAE,GAAGC,SAAS,CAACC,MAAtC,EAA8CH,CAAC,GAAGC,EAAlD,EAAsDD,CAAC,EAAvD,EAA2DD,CAAC,IAAIG,SAAS,CAACF,CAAD,CAAT,CAAaG,MAAlB;;AAC3D,OAAK,IAAIC,CAAC,GAAGC,KAAK,CAACN,CAAD,CAAb,EAAkBO,CAAC,GAAG,CAAtB,EAAyBN,CAAC,GAAG,CAAlC,EAAqCA,CAAC,GAAGC,EAAzC,EAA6CD,CAAC,EAA9C,EACI,KAAK,IAAIO,CAAC,GAAGL,SAAS,CAACF,CAAD,CAAjB,EAAsBQ,CAAC,GAAG,CAA1B,EAA6BC,EAAE,GAAGF,CAAC,CAACJ,MAAzC,EAAiDK,CAAC,GAAGC,EAArD,EAAyDD,CAAC,IAAIF,CAAC,EAA/D,EACIF,CAAC,CAACE,CAAD,CAAD,GAAOC,CAAC,CAACC,CAAD,CAAR;;AACR,SAAOJ,CAAP;AACH,CAND;;AAOA,OAAOM,KAAP,MAAkB,OAAlB;AACA,OAAO,IAAIC,wBAAwB,GAAG,UAAUC,KAAV,EAAiBC,SAAjB,EAA4B;AAC9D,MAAIA,SAAS,KAAK,KAAK,CAAvB,EAA0B;AAAEA,IAAAA,SAAS,GAAG,EAAZ;AAAiB;;AAC7C,MAAIC,OAAO,GAAGF,KAAK,CAACG,KAAN,CAAYC,UAAZ,KAA2B,QAAzC;AACAN,EAAAA,KAAK,CAACO,SAAN,CAAgB,YAAY;AACxB,QAAIC,EAAJ,EAAQC,EAAR;;AACA,QAAI,CAACL,OAAL,EAAc;AACV;AACH;;AACD,QAAIM,QAAQ,GAAGtB,cAAc,CAAC,CAACqB,EAAE,GAAG,CAACD,EAAE,GAAGN,KAAK,CAACG,KAAN,CAAYM,QAAZ,CAAqBC,OAA3B,MAAwC,IAAxC,IAAgDJ,EAAE,KAAK,KAAK,CAA5D,GAAgE,KAAK,CAArE,GAAyEA,EAAE,CAACK,aAAlF,MAAqG,IAArG,IAA6GJ,EAAE,KAAK,KAAK,CAAzH,GAA6H,KAAK,CAAlI,GAAsIA,EAAE,CAACK,QAA1I,CAAd,CAAkKC,MAAlK,CAAyK,UAAUC,EAAV,EAAc;AAAE,aAAOA,EAAE,KAAKd,KAAK,CAACG,KAAN,CAAYM,QAAZ,CAAqBC,OAAnC;AAA6C,KAAtO,CAAf;;AACA,QAAIK,cAAc,GAAGP,QAAQ,CAACQ,GAAT,CAAa,UAAUF,EAAV,EAAc;AAAE,aAAOA,EAAE,CAACG,YAAH,CAAgB,aAAhB,CAAP;AAAwC,KAArE,CAArB;AACAT,IAAAA,QAAQ,CAACU,OAAT,CAAiB,UAAUJ,EAAV,EAAc;AAC3BA,MAAAA,EAAE,CAACK,YAAH,CAAgB,aAAhB,EAA+B,MAA/B;AACH,KAFD;AAGA,WAAO,YAAY;AACfX,MAAAA,QAAQ,CAACU,OAAT,CAAiB,UAAUJ,EAAV,EAAcM,KAAd,EAAqB;AAClC,YAAIC,IAAI,GAAGN,cAAc,CAACK,KAAD,CAAzB;;AACA,YAAIC,IAAJ,EAAU;AACNP,UAAAA,EAAE,CAACK,YAAH,CAAgB,aAAhB,EAA+BE,IAA/B;AACH,SAFD,MAGK;AACDP,UAAAA,EAAE,CAACQ,eAAH,CAAmB,aAAnB;AACH;AACJ,OARD;AASH,KAVD;AAWH,GArBD,EAqBG,CAACtB,KAAK,CAACG,KAAN,CAAYM,QAAb,EAAuBP,OAAvB,CArBH;AAsBA,SAAOD,SAAP;AACH,CA1BM","sourcesContent":["var __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nimport React from 'react';\nexport var useAssistiveHideSiblings = function (model, elemProps) {\n    if (elemProps === void 0) { elemProps = {}; }\n    var visible = model.state.visibility !== 'hidden';\n    React.useEffect(function () {\n        var _a, _b;\n        if (!visible) {\n            return;\n        }\n        var siblings = __spreadArrays((_b = (_a = model.state.stackRef.current) === null || _a === void 0 ? void 0 : _a.parentElement) === null || _b === void 0 ? void 0 : _b.children).filter(function (el) { return el !== model.state.stackRef.current; });\n        var prevAriaHidden = siblings.map(function (el) { return el.getAttribute('aria-hidden'); });\n        siblings.forEach(function (el) {\n            el.setAttribute('aria-hidden', 'true');\n        });\n        return function () {\n            siblings.forEach(function (el, index) {\n                var prev = prevAriaHidden[index];\n                if (prev) {\n                    el.setAttribute('aria-hidden', prev);\n                }\n                else {\n                    el.removeAttribute('aria-hidden');\n                }\n            });\n        };\n    }, [model.state.stackRef, visible]);\n    return elemProps;\n};\n"]},"metadata":{},"sourceType":"module"}