{"ast":null,"code":"import React from 'react';\nimport { useMountLayout } from '@workday/canvas-kit-react/common';\nexport var useRegisterItem = function (_a, localRef, id, index) {\n  var state = _a.state,\n      events = _a.events;\n\n  if (id === void 0) {\n    id = '';\n  }\n\n  var _b = React.useState(id),\n      localId = _b[0],\n      setLocalId = _b[1];\n\n  var firstRender = React.useRef(true);\n  React.useLayoutEffect(function () {\n    if (index !== undefined && !firstRender.current) {\n      events.updateItemPosition({\n        id: localId,\n        index: index\n      });\n    }\n  }, [index]);\n  useMountLayout(function () {\n    var defaultId = state.indexRef.current;\n    var itemId = id || String(defaultId);\n    events.registerItem({\n      item: {\n        id: itemId,\n        ref: localRef\n      },\n      index: index\n    });\n    setLocalId(itemId);\n    firstRender.current = false;\n    return function () {\n      events.unregisterItem({\n        id: itemId\n      });\n    };\n  });\n  return localId;\n};","map":{"version":3,"sources":["/Users/janet.xuishi/node_modules/@workday/canvas-kit-react/dist/es6/tabs/lib/list/hooks.js"],"names":["React","useMountLayout","useRegisterItem","_a","localRef","id","index","state","events","_b","useState","localId","setLocalId","firstRender","useRef","useLayoutEffect","undefined","current","updateItemPosition","defaultId","indexRef","itemId","String","registerItem","item","ref","unregisterItem"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,cAAT,QAA+B,kCAA/B;AACA,OAAO,IAAIC,eAAe,GAAG,UAAUC,EAAV,EAAcC,QAAd,EAAwBC,EAAxB,EAA4BC,KAA5B,EAAmC;AAC5D,MAAIC,KAAK,GAAGJ,EAAE,CAACI,KAAf;AAAA,MAAsBC,MAAM,GAAGL,EAAE,CAACK,MAAlC;;AACA,MAAIH,EAAE,KAAK,KAAK,CAAhB,EAAmB;AAAEA,IAAAA,EAAE,GAAG,EAAL;AAAU;;AAC/B,MAAII,EAAE,GAAGT,KAAK,CAACU,QAAN,CAAeL,EAAf,CAAT;AAAA,MAA6BM,OAAO,GAAGF,EAAE,CAAC,CAAD,CAAzC;AAAA,MAA8CG,UAAU,GAAGH,EAAE,CAAC,CAAD,CAA7D;;AACA,MAAII,WAAW,GAAGb,KAAK,CAACc,MAAN,CAAa,IAAb,CAAlB;AACAd,EAAAA,KAAK,CAACe,eAAN,CAAsB,YAAY;AAC9B,QAAIT,KAAK,KAAKU,SAAV,IAAuB,CAACH,WAAW,CAACI,OAAxC,EAAiD;AAC7CT,MAAAA,MAAM,CAACU,kBAAP,CAA0B;AAAEb,QAAAA,EAAE,EAAEM,OAAN;AAAeL,QAAAA,KAAK,EAAEA;AAAtB,OAA1B;AACH;AACJ,GAJD,EAIG,CAACA,KAAD,CAJH;AAKAL,EAAAA,cAAc,CAAC,YAAY;AACvB,QAAIkB,SAAS,GAAGZ,KAAK,CAACa,QAAN,CAAeH,OAA/B;AACA,QAAII,MAAM,GAAGhB,EAAE,IAAIiB,MAAM,CAACH,SAAD,CAAzB;AACAX,IAAAA,MAAM,CAACe,YAAP,CAAoB;AAAEC,MAAAA,IAAI,EAAE;AAAEnB,QAAAA,EAAE,EAAEgB,MAAN;AAAcI,QAAAA,GAAG,EAAErB;AAAnB,OAAR;AAAuCE,MAAAA,KAAK,EAAEA;AAA9C,KAApB;AACAM,IAAAA,UAAU,CAACS,MAAD,CAAV;AACAR,IAAAA,WAAW,CAACI,OAAZ,GAAsB,KAAtB;AACA,WAAO,YAAY;AACfT,MAAAA,MAAM,CAACkB,cAAP,CAAsB;AAAErB,QAAAA,EAAE,EAAEgB;AAAN,OAAtB;AACH,KAFD;AAGH,GATa,CAAd;AAUA,SAAOV,OAAP;AACH,CArBM","sourcesContent":["import React from 'react';\nimport { useMountLayout } from '@workday/canvas-kit-react/common';\nexport var useRegisterItem = function (_a, localRef, id, index) {\n    var state = _a.state, events = _a.events;\n    if (id === void 0) { id = ''; }\n    var _b = React.useState(id), localId = _b[0], setLocalId = _b[1];\n    var firstRender = React.useRef(true);\n    React.useLayoutEffect(function () {\n        if (index !== undefined && !firstRender.current) {\n            events.updateItemPosition({ id: localId, index: index });\n        }\n    }, [index]);\n    useMountLayout(function () {\n        var defaultId = state.indexRef.current;\n        var itemId = id || String(defaultId);\n        events.registerItem({ item: { id: itemId, ref: localRef }, index: index });\n        setLocalId(itemId);\n        firstRender.current = false;\n        return function () {\n            events.unregisterItem({ id: itemId });\n        };\n    });\n    return localId;\n};\n"]},"metadata":{},"sourceType":"module"}