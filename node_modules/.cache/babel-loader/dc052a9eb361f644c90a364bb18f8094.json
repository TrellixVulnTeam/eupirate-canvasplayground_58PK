{"ast":null,"code":"import React from 'react';\nimport { PopupStack } from '@workday/canvas-kit-popup-stack';\nexport var useBringToTopOnClick = function (model, elemProps) {\n  if (elemProps === void 0) {\n    elemProps = {};\n  }\n\n  var timer = React.useRef(-1);\n  var onClick = React.useCallback(function (event) {\n    timer.current = requestAnimationFrame(function () {\n      var _a;\n\n      if ((_a = model.state.stackRef.current) === null || _a === void 0 ? void 0 : _a.contains(event.target)) {\n        PopupStack.bringToTop(model.state.stackRef.current);\n      }\n    });\n  }, [model.state.stackRef]);\n  var visible = model.state.visibility !== 'hidden';\n  React.useLayoutEffect(function () {\n    if (!visible) {\n      return;\n    }\n\n    document.addEventListener('click', onClick);\n    return function () {\n      cancelAnimationFrame(timer.current);\n      document.removeEventListener('click', onClick);\n    };\n  }, [visible, onClick]);\n  return elemProps;\n};","map":{"version":3,"sources":["/Users/janet.xuishi/node_modules/@workday/canvas-kit-react/dist/es6/popup/lib/hooks/useBringToTopOnClick.js"],"names":["React","PopupStack","useBringToTopOnClick","model","elemProps","timer","useRef","onClick","useCallback","event","current","requestAnimationFrame","_a","state","stackRef","contains","target","bringToTop","visible","visibility","useLayoutEffect","document","addEventListener","cancelAnimationFrame","removeEventListener"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,UAAT,QAA2B,iCAA3B;AACA,OAAO,IAAIC,oBAAoB,GAAG,UAAUC,KAAV,EAAiBC,SAAjB,EAA4B;AAC1D,MAAIA,SAAS,KAAK,KAAK,CAAvB,EAA0B;AAAEA,IAAAA,SAAS,GAAG,EAAZ;AAAiB;;AAC7C,MAAIC,KAAK,GAAGL,KAAK,CAACM,MAAN,CAAa,CAAC,CAAd,CAAZ;AACA,MAAIC,OAAO,GAAGP,KAAK,CAACQ,WAAN,CAAkB,UAAUC,KAAV,EAAiB;AAC7CJ,IAAAA,KAAK,CAACK,OAAN,GAAgBC,qBAAqB,CAAC,YAAY;AAC9C,UAAIC,EAAJ;;AACA,UAAI,CAACA,EAAE,GAAGT,KAAK,CAACU,KAAN,CAAYC,QAAZ,CAAqBJ,OAA3B,MAAwC,IAAxC,IAAgDE,EAAE,KAAK,KAAK,CAA5D,GAAgE,KAAK,CAArE,GAAyEA,EAAE,CAACG,QAAH,CAAYN,KAAK,CAACO,MAAlB,CAA7E,EAAwG;AACpGf,QAAAA,UAAU,CAACgB,UAAX,CAAsBd,KAAK,CAACU,KAAN,CAAYC,QAAZ,CAAqBJ,OAA3C;AACH;AACJ,KALoC,CAArC;AAMH,GAPa,EAOX,CAACP,KAAK,CAACU,KAAN,CAAYC,QAAb,CAPW,CAAd;AAQA,MAAII,OAAO,GAAGf,KAAK,CAACU,KAAN,CAAYM,UAAZ,KAA2B,QAAzC;AACAnB,EAAAA,KAAK,CAACoB,eAAN,CAAsB,YAAY;AAC9B,QAAI,CAACF,OAAL,EAAc;AACV;AACH;;AACDG,IAAAA,QAAQ,CAACC,gBAAT,CAA0B,OAA1B,EAAmCf,OAAnC;AACA,WAAO,YAAY;AACfgB,MAAAA,oBAAoB,CAAClB,KAAK,CAACK,OAAP,CAApB;AACAW,MAAAA,QAAQ,CAACG,mBAAT,CAA6B,OAA7B,EAAsCjB,OAAtC;AACH,KAHD;AAIH,GATD,EASG,CAACW,OAAD,EAAUX,OAAV,CATH;AAUA,SAAOH,SAAP;AACH,CAvBM","sourcesContent":["import React from 'react';\nimport { PopupStack } from '@workday/canvas-kit-popup-stack';\nexport var useBringToTopOnClick = function (model, elemProps) {\n    if (elemProps === void 0) { elemProps = {}; }\n    var timer = React.useRef(-1);\n    var onClick = React.useCallback(function (event) {\n        timer.current = requestAnimationFrame(function () {\n            var _a;\n            if ((_a = model.state.stackRef.current) === null || _a === void 0 ? void 0 : _a.contains(event.target)) {\n                PopupStack.bringToTop(model.state.stackRef.current);\n            }\n        });\n    }, [model.state.stackRef]);\n    var visible = model.state.visibility !== 'hidden';\n    React.useLayoutEffect(function () {\n        if (!visible) {\n            return;\n        }\n        document.addEventListener('click', onClick);\n        return function () {\n            cancelAnimationFrame(timer.current);\n            document.removeEventListener('click', onClick);\n        };\n    }, [visible, onClick]);\n    return elemProps;\n};\n"]},"metadata":{},"sourceType":"module"}