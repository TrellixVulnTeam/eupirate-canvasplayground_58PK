{"ast":null,"code":"var __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport chroma from 'chroma-js';\nimport merge from 'lodash/merge';\nimport memoize from 'lodash/memoize';\nimport findKey from 'lodash/findKey';\nimport colors from '@workday/canvas-colors-web';\nimport { defaultCanvasTheme } from './theme';\nimport { ContentDirection } from './types';\nimport { pickForegroundColor } from '../utils';\nexport var ColorDirection;\n\n(function (ColorDirection) {\n  ColorDirection[ColorDirection[\"Darken\"] = 0] = \"Darken\";\n  ColorDirection[ColorDirection[\"Brighten\"] = 1] = \"Brighten\";\n})(ColorDirection || (ColorDirection = {}));\n\nexport function shiftColor(hexColor, direction) {\n  var canvasColor = findKey(colors, function (color) {\n    return color === hexColor;\n  });\n  var darken = direction === ColorDirection.Darken;\n\n  if (canvasColor) {\n    var colorRegex = /([a-zAz]*)(\\d{3})/g;\n    var match = colorRegex.exec(canvasColor);\n\n    if (match) {\n      var baseColor = match[1];\n      var shadeNumber = parseInt(match[2], 10);\n      var newShade = darken ? shadeNumber + 100 : shadeNumber - 100;\n\n      if (newShade >= 100 && newShade <= 600) {\n        return colors[baseColor + newShade];\n      }\n    }\n  }\n\n  try {\n    var newColor = darken ? chroma(hexColor).darken() : chroma(hexColor).brighten();\n    return newColor.hex();\n  } catch (e) {\n    console.warn(\"Invalid color '\" + hexColor + \"' used in theme\");\n    return hexColor;\n  }\n}\n\nfunction fillPalette(defaultPalette, palette) {\n  if (!palette) {\n    return {};\n  }\n\n  var main = palette.main || defaultPalette.main;\n  var dark = palette.dark || palette.main && shiftColor(palette.main, ColorDirection.Darken) || defaultPalette.dark;\n  var darkest = palette.darkest || palette.main && shiftColor(dark, ColorDirection.Darken) || defaultPalette.darkest;\n  var light = palette.light || palette.main && shiftColor(palette.main, ColorDirection.Brighten) || defaultPalette.light;\n  var lightest = palette.lightest || palette.main && shiftColor(light, ColorDirection.Brighten) || defaultPalette.lightest;\n  var contrast = palette.contrast || pickForegroundColor(main) || defaultPalette.contrast;\n  return {\n    lightest: lightest,\n    light: light,\n    main: main,\n    dark: dark,\n    darkest: darkest,\n    contrast: contrast\n  };\n}\n\nfunction calculateCanvasTheme(partialTheme) {\n  var _a = partialTheme.palette,\n      palette = _a === void 0 ? {} : _a,\n      _b = partialTheme.breakpoints,\n      breakpoints = _b === void 0 ? {} : _b,\n      direction = partialTheme.direction,\n      extraFields = __rest(partialTheme, [\"palette\", \"breakpoints\", \"direction\"]);\n\n  var _c = palette,\n      primary = _c.primary,\n      alert = _c.alert,\n      error = _c.error,\n      success = _c.success,\n      neutral = _c.neutral,\n      _d = _c.common,\n      common = _d === void 0 ? {} : _d;\n  var mergeable = {\n    palette: {\n      common: common,\n      primary: fillPalette(defaultCanvasTheme.palette.primary, primary),\n      alert: fillPalette(defaultCanvasTheme.palette.alert, alert),\n      error: fillPalette(defaultCanvasTheme.palette.error, error),\n      success: fillPalette(defaultCanvasTheme.palette.success, success),\n      neutral: fillPalette(defaultCanvasTheme.palette.neutral, neutral)\n    },\n    breakpoints: breakpoints,\n    direction: direction === ContentDirection.RTL ? direction : ContentDirection.LTR\n  };\n  return merge({}, defaultCanvasTheme, mergeable, extraFields);\n}\n\nexport var createCanvasTheme = memoize(calculateCanvasTheme, function () {\n  var args = [];\n\n  for (var _i = 0; _i < arguments.length; _i++) {\n    args[_i] = arguments[_i];\n  }\n\n  return JSON.stringify(args);\n});","map":{"version":3,"sources":["/Users/janet.xuishi/node_modules/@workday/canvas-kit-react/dist/es6/common/lib/theming/createCanvasTheme.js"],"names":["__rest","s","e","t","p","Object","prototype","hasOwnProperty","call","indexOf","getOwnPropertySymbols","i","length","propertyIsEnumerable","chroma","merge","memoize","findKey","colors","defaultCanvasTheme","ContentDirection","pickForegroundColor","ColorDirection","shiftColor","hexColor","direction","canvasColor","color","darken","Darken","colorRegex","match","exec","baseColor","shadeNumber","parseInt","newShade","newColor","brighten","hex","console","warn","fillPalette","defaultPalette","palette","main","dark","darkest","light","Brighten","lightest","contrast","calculateCanvasTheme","partialTheme","_a","_b","breakpoints","extraFields","_c","primary","alert","error","success","neutral","_d","common","mergeable","RTL","LTR","createCanvasTheme","args","_i","arguments","JSON","stringify"],"mappings":"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","sourcesContent":["var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport chroma from 'chroma-js';\nimport merge from 'lodash/merge';\nimport memoize from 'lodash/memoize';\nimport findKey from 'lodash/findKey';\nimport colors from '@workday/canvas-colors-web';\nimport { defaultCanvasTheme } from './theme';\nimport { ContentDirection, } from './types';\nimport { pickForegroundColor } from '../utils';\nexport var ColorDirection;\n(function (ColorDirection) {\n    ColorDirection[ColorDirection[\"Darken\"] = 0] = \"Darken\";\n    ColorDirection[ColorDirection[\"Brighten\"] = 1] = \"Brighten\";\n})(ColorDirection || (ColorDirection = {}));\nexport function shiftColor(hexColor, direction) {\n    var canvasColor = findKey(colors, function (color) { return color === hexColor; });\n    var darken = direction === ColorDirection.Darken;\n    if (canvasColor) {\n        var colorRegex = /([a-zAz]*)(\\d{3})/g;\n        var match = colorRegex.exec(canvasColor);\n        if (match) {\n            var baseColor = match[1];\n            var shadeNumber = parseInt(match[2], 10);\n            var newShade = darken ? shadeNumber + 100 : shadeNumber - 100;\n            if (newShade >= 100 && newShade <= 600) {\n                return colors[(baseColor + newShade)];\n            }\n        }\n    }\n    try {\n        var newColor = darken ? chroma(hexColor).darken() : chroma(hexColor).brighten();\n        return newColor.hex();\n    }\n    catch (e) {\n        console.warn(\"Invalid color '\" + hexColor + \"' used in theme\");\n        return hexColor;\n    }\n}\nfunction fillPalette(defaultPalette, palette) {\n    if (!palette) {\n        return {};\n    }\n    var main = palette.main || defaultPalette.main;\n    var dark = palette.dark ||\n        (palette.main && shiftColor(palette.main, ColorDirection.Darken)) ||\n        defaultPalette.dark;\n    var darkest = palette.darkest ||\n        (palette.main && shiftColor(dark, ColorDirection.Darken)) ||\n        defaultPalette.darkest;\n    var light = palette.light ||\n        (palette.main && shiftColor(palette.main, ColorDirection.Brighten)) ||\n        defaultPalette.light;\n    var lightest = palette.lightest ||\n        (palette.main && shiftColor(light, ColorDirection.Brighten)) ||\n        defaultPalette.lightest;\n    var contrast = palette.contrast || pickForegroundColor(main) || defaultPalette.contrast;\n    return {\n        lightest: lightest,\n        light: light,\n        main: main,\n        dark: dark,\n        darkest: darkest,\n        contrast: contrast,\n    };\n}\nfunction calculateCanvasTheme(partialTheme) {\n    var _a = partialTheme.palette, palette = _a === void 0 ? {} : _a, _b = partialTheme.breakpoints, breakpoints = _b === void 0 ? {} : _b, direction = partialTheme.direction, extraFields = __rest(partialTheme, [\"palette\", \"breakpoints\", \"direction\"]);\n    var _c = palette, primary = _c.primary, alert = _c.alert, error = _c.error, success = _c.success, neutral = _c.neutral, _d = _c.common, common = _d === void 0 ? {} : _d;\n    var mergeable = {\n        palette: {\n            common: common,\n            primary: fillPalette(defaultCanvasTheme.palette.primary, primary),\n            alert: fillPalette(defaultCanvasTheme.palette.alert, alert),\n            error: fillPalette(defaultCanvasTheme.palette.error, error),\n            success: fillPalette(defaultCanvasTheme.palette.success, success),\n            neutral: fillPalette(defaultCanvasTheme.palette.neutral, neutral),\n        },\n        breakpoints: breakpoints,\n        direction: direction === ContentDirection.RTL ? direction : ContentDirection.LTR,\n    };\n    return merge({}, defaultCanvasTheme, mergeable, extraFields);\n}\nexport var createCanvasTheme = memoize(calculateCanvasTheme, function () {\n    var args = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n    }\n    return JSON.stringify(args);\n});\n"]},"metadata":{},"sourceType":"module"}